  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateResources (20160707233507)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160707233507"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-07 23:35:12 UTC], ["updated_at", 2016-07-07 23:35:12 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/" for ::1 at 2016-07-08 07:22:18 +0000
Processing by Rails::WelcomeController#index as */*
  Parameters: {"internal"=>true}
  Rendering /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (10.2ms)
Completed 200 OK in 31ms (Views: 25.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 192.168.99.1 at 2016-07-08 07:50:17 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (6.4ms)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for 192.168.99.1 at 2016-07-08 07:50:17 +0000
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/" for 172.17.0.8 at 2016-07-08 07:55:52 +0000
Processing by Rails::WelcomeController#index as */*
  Parameters: {"internal"=>true}
  Rendering /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (3.2ms)
Completed 200 OK in 17ms (Views: 11.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 192.168.99.1 at 2016-07-08 08:02:44 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (6.5ms)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 192.168.99.1 at 2016-07-08 08:04:37 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (6.3ms)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 0.0ms)


Started GET "/resources/list" for 192.168.99.1 at 2016-07-08 08:04:42 +0000
  
ActionController::RoutingError (uninitialized constant ResourcesController):
  
activesupport (5.0.0) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.0) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.0) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.0) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.0) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.0) lib/action_dispatch/http/request.rb:93:in `controller_class'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources/list" for 192.168.99.1 at 2016-07-08 08:05:19 +0000
Processing by ResourcesController#list as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-08 08:05:22 +0000
Processing by ResourcesController#leased as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources/1/leased" for 192.168.99.1 at 2016-07-08 08:05:25 +0000
  
ActionController::RoutingError (No route matches [GET] "/resources/1/leased"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources/1/lease" for 192.168.99.1 at 2016-07-08 08:05:47 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"resource_id"=>"1"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources/1/lease" for 192.168.99.1 at 2016-07-08 08:07:09 +0000
  
ArgumentError (Invalid route name, already in use: 'lease_resource' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
http://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:4:in `block in <top (required)>'
config/routes.rb:1:in `<top (required)>'
Started GET "/resources/1/lease" for 192.168.99.1 at 2016-07-08 08:07:21 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"resource_id"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/list" for 192.168.99.1 at 2016-07-08 08:09:03 +0000
  
ActionController::RoutingError (No route matches [GET] "/list"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources/leased" for 192.168.99.1 at 2016-07-08 08:10:05 +0000
Processing by ResourcesController#leased as HTML
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:10:10 +0000
Processing by ResourcesController#list as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:11:15 +0000
Processing by ResourcesController#list as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:11:31 +0000
Processing by ResourcesController#list as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-08 08:11:50 +0000
Processing by ResourcesController#leased as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:13:37 +0000
Processing by ResourcesController#list as */*
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-08 08:13:41 +0000
Processing by ResourcesController#leased as */*
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:13:50 +0000
Processing by ResourcesController#list as */*
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources/1/lease" for 192.168.99.1 at 2016-07-08 08:21:08 +0000
  
Gem::LoadError (Specified 'mysql2' for database adapter, but the gem is not loaded. Add `gem 'mysql2'` to your Gemfile (and ensure its version is at the minimum required by ActiveRecord).):
  
activerecord (5.0.0) lib/active_record/connection_adapters/connection_specification.rb:176:in `rescue in spec'
activerecord (5.0.0) lib/active_record/connection_adapters/connection_specification.rb:173:in `spec'
activerecord (5.0.0) lib/active_record/connection_handling.rb:53:in `establish_connection'
activerecord (5.0.0) lib/active_record/railtie.rb:125:in `block (2 levels) in <class:Railtie>'
activesupport (5.0.0) lib/active_support/lazy_load_hooks.rb:38:in `instance_eval'
activesupport (5.0.0) lib/active_support/lazy_load_hooks.rb:38:in `execute_hook'
activesupport (5.0.0) lib/active_support/lazy_load_hooks.rb:45:in `block in run_load_hooks'
activesupport (5.0.0) lib/active_support/lazy_load_hooks.rb:44:in `each'
activesupport (5.0.0) lib/active_support/lazy_load_hooks.rb:44:in `run_load_hooks'
activerecord (5.0.0) lib/active_record/base.rb:324:in `<module:ActiveRecord>'
activerecord (5.0.0) lib/active_record/base.rb:24:in `<top (required)>'
activerecord (5.0.0) lib/active_record/migration.rb:558:in `connection'
activerecord (5.0.0) lib/active_record/migration.rb:545:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (7.7ms)[0m  [1m[32mINSERT INTO "resources" ("name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["description", "ubuntu 1404"], ["created_at", 2016-07-08 08:34:19 UTC], ["updated_at", 2016-07-08 08:34:19 UTC]]
  [1m[35m (6.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (6.6ms)[0m  [1m[32mINSERT INTO "resources" ("name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server2"], ["description", "ubuntu 1204"], ["created_at", 2016-07-08 08:37:05 UTC], ["updated_at", 2016-07-08 08:37:05 UTC]]
  [1m[35m (5.6ms)[0m  [1m[36mcommit transaction[0m
Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:37:12 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#list as */*
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 4.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:37:28 +0000
Processing by ResourcesController#list as */*
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.5ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:37:28 +0000
Processing by ResourcesController#list as */*
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:37:29 +0000
Processing by ResourcesController#list as */*
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-08 08:42:15 +0000
Processing by ResourcesController#list as */*
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 49ms (Views: 0.1ms | ActiveRecord: 5.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-08 08:42:18 +0000
  
AbstractController::ActionNotFound (The action 'get' could not be found for ResourcesController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to ChangeFieldNames (20160709001457)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aresources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_id" varchar, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "aresources" ("id","resource_id","description","created_at","updated_at")
                     SELECT "id","name","description","created_at","updated_at" FROM "resources"[0m
  [1m[35m (3.2ms)[0m  [1m[35mDROP TABLE "resources"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_id" varchar, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "resources" ("id","resource_id","description","created_at","updated_at")
                     SELECT "id","resource_id","description","created_at","updated_at" FROM "aresources"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aresources"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aresources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_id" varchar, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aresources" ("id","resource_id","name","created_at","updated_at")
                     SELECT "id","resource_id","description","created_at","updated_at" FROM "resources"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "resources"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_id" varchar, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("id","resource_id","name","created_at","updated_at")
                     SELECT "id","resource_id","name","created_at","updated_at" FROM "aresources"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aresources"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20160709001457"]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "resources"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_id" varchar, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('2');

[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_id" varchar, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20160709001457')[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('1'), ('2');

[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-09 00:48:18 UTC], ["updated_at", 2016-07-09 00:48:18 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_id" varchar, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20160709001457')[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('1'), ('2');

[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-09 00:50:12 UTC], ["updated_at", 2016-07-09 00:50:12 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_id" varchar, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (8.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20160709001457')[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (2.8ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('1'), ('2');

[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-09 00:50:13 UTC], ["updated_at", 2016-07-09 00:50:13 UTC]]
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_resources_on_user_id" ON "resources" ("user_id")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "2"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-09 00:52:28 UTC], ["updated_at", 2016-07-09 00:52:28 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (1.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for 192.168.99.1 at 2016-07-09 08:44:56 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (7.1ms)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.0ms)


Started GET "/favicon.ico" for 192.168.99.1 at 2016-07-09 08:44:57 +0000
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:45:00 +0000
  
SyntaxError (/src/app/controllers/resources_controller.rb:33: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/controllers/resources_controller.rb:33: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:46:09 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (1.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 3.7ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:46:15 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:46:27 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:56:09 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:56:11 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:56:40 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:56:41 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:56:41 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:57:11 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 08:57:29 +0000
Processing by ResourcesController#list as HTML
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.5ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources" for 192.168.99.1 at 2016-07-09 09:00:27 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ApplicationController> at /src/app/controllers/application_controller.rb:3)
Processing by ResourcesController#list as HTML
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `decode_credentials' for #<ResourcesController:0x0055f0591eb320>):
  
app/controllers/application_controller.rb:6:in `get_credentials'
app/controllers/application_controller.rb:10:in `get_username'
app/controllers/application_controller.rb:20:in `get_user'
Started GET "/resources" for 192.168.99.1 at 2016-07-09 09:03:46 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#list as HTML
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-09 09:04:05 +0000
  
AbstractController::ActionNotFound (The action 'get' could not be found for ResourcesController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
warden (1.2.6) lib/warden/manager.rb:34:in `catch'
warden (1.2.6) lib/warden/manager.rb:34:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources/list" for 192.168.99.1 at 2016-07-09 09:04:11 +0000
  
AbstractController::ActionNotFound (The action 'get' could not be found for ResourcesController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
warden (1.2.6) lib/warden/manager.rb:34:in `catch'
warden (1.2.6) lib/warden/manager.rb:34:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources/" for 192.168.99.1 at 2016-07-09 09:04:15 +0000
Processing by ResourcesController#list as */*
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/resources/" for 192.168.99.1 at 2016-07-09 09:04:25 +0000
Processing by ResourcesController#list as */*
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 09:06:50 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#list as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 09:07:30 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#list as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started GET "/resources/" for 192.168.99.1 at 2016-07-09 09:07:43 +0000
Processing by ResourcesController#list as */*
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 09:08:38 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#list as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 09:08:39 +0000
Processing by ResourcesController#list as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-09 09:08:39 +0000
Processing by ResourcesController#list as HTML
Filter chain halted as :authenticate rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (10.5ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-09 09:18:00 UTC], ["updated_at", 2016-07-09 09:18:00 UTC]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "amp343@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "amp343@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "amp343@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (6.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "amp343@gmail.com"], ["encrypted_password", "$2a$11$H0lWsJ1UT0jyEnSbjVsLpO5EPmNQsTuF0zhzMetLvo87cSoC60WDK"], ["created_at", 2016-07-09 09:18:47 UTC], ["updated_at", 2016-07-09 09:18:47 UTC]]
  [1m[35m (8.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (12.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "leased_at" datetime, "lease_expires_at" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_resources_on_user_id" ON "resources" ("user_id")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "2"]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (11.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-09 09:19:36 UTC], ["updated_at", 2016-07-09 09:19:36 UTC]]
  [1m[35m (7.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (2.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (1.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (7.9ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-09 09:19:51 UTC], ["updated_at", 2016-07-09 09:19:51 UTC]]
  [1m[35m (13.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "amp343@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (5.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "amp343@gmail.com"], ["encrypted_password", "$2a$11$yMcIXeLHSnq8tdh2L1.QWOzHBoYzB3zBmQDbHQr3xAxT.WxvPq6J6"], ["created_at", 2016-07-09 09:20:04 UTC], ["updated_at", 2016-07-09 09:20:04 UTC]]
  [1m[35m (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (6.0ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "lease_expires_at" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-09 09:21:09 UTC], ["lease_expires_at", "2016-07-09T11:21:09+00:00"], ["updated_at", 2016-07-09 09:21:09 UTC], ["id", 1]]
  [1m[35m (5.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for 192.168.99.1 at 2016-07-09 18:51:10 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (8.6ms)
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.0ms)


Started GET "/resources/server1" for 172.17.0.4 at 2016-07-09 18:51:15 +0000
  
AbstractController::ActionNotFound (The action 'get' could not be found for ResourcesController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.6) lib/warden/manager.rb:35:in `block in call'
warden (1.2.6) lib/warden/manager.rb:34:in `catch'
warden (1.2.6) lib/warden/manager.rb:34:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources/server1" for 172.17.0.4 at 2016-07-09 18:51:33 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 3.7ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for 192.168.99.1 at 2016-07-09 18:54:25 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (9.6ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.0ms)


Started GET "/resources/server1" for 172.17.0.4 at 2016-07-09 18:54:26 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 2.7ms)


  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (8.7ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-09 18:55:12 UTC], ["updated_at", 2016-07-09 18:55:12 UTC]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/server1" for 172.17.0.4 at 2016-07-09 18:55:31 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 18:55:48 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 18:56:08 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.6ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 18:56:09 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 18:56:10 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.6ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 18:56:10 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.6ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 18:56:35 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 18:56:45 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.7ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 18:57:03 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 18:57:18 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 28ms (Views: 0.7ms | ActiveRecord: 3.9ms)


  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (6.9ms)[0m  [1m[32mINSERT INTO "resources" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "server1"], ["created_at", 2016-07-09 19:06:33 UTC], ["updated_at", 2016-07-09 19:06:33 UTC]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "amp343@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (5.5ms)[0m  [1m[31mDELETE FROM "resources" WHERE "resources"."id" = ?[0m  [["id", 2]]
  [1m[35m (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.4ms)[0m  [1m[31mDELETE FROM "resources" WHERE "resources"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 19:08:58 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 60ms (ActiveRecord: 4.4ms)


  
NoMethodError (undefined method `lease_time_remaining' for #<Resource:0x0055fd84f871e0>):
  
app/serializers/resource_serializer.rb:5:in `lease_time_remaining'
app/controllers/resources_controller.rb:9:in `show'
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 19:09:22 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 62ms (ActiveRecord: 5.0ms)


  
NoMethodError (undefined method `lease_time_remaining' for #<Resource:0x0055669fad5060>):
  
app/controllers/resources_controller.rb:9:in `show'
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (1.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/server1" for 192.168.99.1 at 2016-07-09 19:09:47 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 77ms (Views: 0.6ms | ActiveRecord: 10.6ms)


  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "leased_at" datetime, "lease_expires_at" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_resources_on_user_id" ON "resources" ("user_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "2"]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddUser (3)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddUser (3)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (5.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "you@email.com"], ["encrypted_password", "$2a$11$.sf.3JJls5uptW8J6WniSe5fw0x2IkHv.sG.PUNfY/nNsLY6eSpCq"], ["created_at", 2016-07-09 22:29:06 UTC], ["updated_at", 2016-07-09 22:29:06 UTC]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "someone.else@email.com"], ["encrypted_password", "$2a$11$MFd3nC39RwDSQuGjfmBhMuDt4Y.pf7FqbMXDoS2oNp4l5zAQTNPlm"], ["created_at", 2016-07-09 22:29:06 UTC], ["updated_at", 2016-07-09 22:29:06 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "3"]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddResources (4)
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddResources (4)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (3.6ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-09 22:30:01 UTC], ["updated_at", 2016-07-09 22:30:01 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server2"], ["os", "linux/jessie"], ["created_at", 2016-07-09 22:30:01 UTC], ["updated_at", 2016-07-09 22:30:01 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server3"], ["os", "linux/wheezy"], ["created_at", 2016-07-09 22:30:01 UTC], ["updated_at", 2016-07-09 22:30:01 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server4"], ["os", "linux/precise"], ["created_at", 2016-07-09 22:30:01 UTC], ["updated_at", 2016-07-09 22:30:01 UTC]]
  [1m[35m (5.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddResources (4)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (4.5ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-10 02:37:03 UTC], ["updated_at", 2016-07-10 02:37:03 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server2"], ["os", "linux/jessie"], ["created_at", 2016-07-10 02:37:03 UTC], ["updated_at", 2016-07-10 02:37:03 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server3"], ["os", "linux/wheezy"], ["created_at", 2016-07-10 02:37:03 UTC], ["updated_at", 2016-07-10 02:37:03 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server4"], ["os", "linux/precise"], ["created_at", 2016-07-10 02:37:03 UTC], ["updated_at", 2016-07-10 02:37:03 UTC]]
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddResources (4)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (3.8ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-10 02:41:44 UTC], ["updated_at", 2016-07-10 02:41:44 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server2"], ["os", "linux/jessie"], ["created_at", 2016-07-10 02:41:44 UTC], ["updated_at", 2016-07-10 02:41:44 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server3"], ["os", "linux/wheezy"], ["created_at", 2016-07-10 02:41:44 UTC], ["updated_at", 2016-07-10 02:41:44 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server4"], ["os", "linux/precise"], ["created_at", 2016-07-10 02:41:44 UTC], ["updated_at", 2016-07-10 02:41:44 UTC]]
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "leased_at" datetime, "lease_expires_at" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_resources_on_user_id" ON "resources" ("user_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "2"]]
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddUser (3)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "you@email.com"], ["encrypted_password", "$2a$11$OP2kuMkUlQFX19ju.8I2h.mEB63w7Bh3tngzI2X2DkcE9xkHBDY2W"], ["created_at", 2016-07-10 02:42:09 UTC], ["updated_at", 2016-07-10 02:42:09 UTC]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "someone.else@email.com"], ["encrypted_password", "$2a$11$upWC.lWjnujNCUDkOqKpZOxU3utpnAxaFLrnVyWVk45cadeJJKqxu"], ["created_at", 2016-07-10 02:42:09 UTC], ["updated_at", 2016-07-10 02:42:09 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "3"]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddResources (4)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-10 02:42:09 UTC], ["updated_at", 2016-07-10 02:42:09 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server2"], ["os", "linux/jessie"], ["created_at", 2016-07-10 02:42:09 UTC], ["updated_at", 2016-07-10 02:42:09 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server3"], ["os", "linux/wheezy"], ["created_at", 2016-07-10 02:42:09 UTC], ["updated_at", 2016-07-10 02:42:09 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server4"], ["os", "linux/precise"], ["created_at", 2016-07-10 02:42:09 UTC], ["updated_at", 2016-07-10 02:42:09 UTC]]
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (4.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "leased_at" datetime, "lease_expires_at" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_resources_on_user_id" ON "resources" ("user_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "2"]]
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddUser (3)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "you@email.com"], ["encrypted_password", "$2a$11$/FOAKZq1xNEQDv6AogdqEuDbr1PnwYAKn385rFfLIfH4nex6H0X76"], ["created_at", 2016-07-10 02:42:44 UTC], ["updated_at", 2016-07-10 02:42:44 UTC]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "someone.else@email.com"], ["encrypted_password", "$2a$11$IXC1QCLxrFMc2kEQUofwUee1ee0JuUYowKxm8/ZCLQcjSUkenV6nC"], ["created_at", 2016-07-10 02:42:44 UTC], ["updated_at", 2016-07-10 02:42:44 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "3"]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddResources (4)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "leased_at" datetime, "leased_until" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_resources_on_user_id" ON "resources" ("user_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "2"]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddUser (3)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (3.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "you@email.com"], ["encrypted_password", "$2a$11$froqTJqqY9Hk4TZL6tlKCeSoe8qNB4I1bPy6OU83Sosrk763BKunu"], ["created_at", 2016-07-10 02:43:05 UTC], ["updated_at", 2016-07-10 02:43:05 UTC]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "someone.else@email.com"], ["encrypted_password", "$2a$11$q1aac49UpT80GHV.DrKDIeul2SP9Jsi7jnsYwKiFULzu1Gw46L9fq"], ["created_at", 2016-07-10 02:43:05 UTC], ["updated_at", 2016-07-10 02:43:05 UTC]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "3"]]
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddResources (4)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "leased_at", "leased_until", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "server5"], ["os", "linux/trusty"], ["leased_at", 2016-07-10 02:43:05 UTC], ["leased_until", "2016-07-10T04:43:05+00:00"], ["user_id", 2], ["created_at", 2016-07-10 02:43:05 UTC], ["updated_at", 2016-07-10 02:43:05 UTC]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "4"]]
  [1m[35m (5.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-10 02:43:05 UTC], ["updated_at", 2016-07-10 02:43:05 UTC]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (3.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (5.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "leased_at" datetime, "leased_until" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_resources_on_user_id" ON "resources" ("user_id")[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "2"]]
  [1m[35m (6.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddUser (3)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (4.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "you@email.com"], ["encrypted_password", "$2a$11$qFkDL9MnPpDI4rdc0Vfhp.PQV6AAnlmX2UGI6XydhsEtJ6UsS5NdW"], ["created_at", 2016-07-10 02:46:03 UTC], ["updated_at", 2016-07-10 02:46:03 UTC]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "someone.else@email.com"], ["encrypted_password", "$2a$11$8Mtj3lXNDGJIC48yRPFOBOTEyvSZuXmHVwpBHWfFiK9/6OOuJ5bDS"], ["created_at", 2016-07-10 02:46:03 UTC], ["updated_at", 2016-07-10 02:46:03 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "3"]]
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddResources (4)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (5.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-10 02:46:03 UTC], ["updated_at", 2016-07-10 02:46:03 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server2"], ["os", "linux/jessie"], ["created_at", 2016-07-10 02:46:03 UTC], ["updated_at", 2016-07-10 02:46:03 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server3"], ["os", "linux/wheezy"], ["created_at", 2016-07-10 02:46:03 UTC], ["updated_at", 2016-07-10 02:46:03 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server4"], ["os", "linux/precise"], ["created_at", 2016-07-10 02:46:03 UTC], ["updated_at", 2016-07-10 02:46:03 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "leased_at", "leased_until", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "server5"], ["os", "linux/trusty"], ["leased_at", 2016-07-10 02:46:03 UTC], ["leased_until", "2016-07-10T04:46:03+00:00"], ["user_id", 2], ["created_at", 2016-07-10 02:46:03 UTC], ["updated_at", 2016-07-10 02:46:03 UTC]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "4"]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (6.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-10 02:46:03 UTC], ["updated_at", 2016-07-10 02:46:03 UTC]]
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (1.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (1.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (self.user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE (user_id IS NOT NULL) ORDER BY "resources"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE (user_id IS NOT NULL) ORDER BY "resources"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE (user_id IS NOT NULL) ORDER BY "resources"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (10.6ms)[0m  [1m[33mUPDATE "resources" SET "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["leased_until", "2016-07-09T23:48:40+00:00"], ["updated_at", 2016-07-10 02:48:42 UTC], ["id", 5]]
  [1m[35m (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (6.2ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["updated_at", 2016-07-10 02:48:48 UTC], ["id", 5]]
  [1m[35m (9.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (5.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "leased_at" datetime, "leased_until" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_resources_on_user_id" ON "resources" ("user_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "2"]]
  [1m[35m (5.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddUser (3)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (5.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "you@email.com"], ["encrypted_password", "$2a$11$iX07pBGAI2bl4U2tjVg0UeEphwum.bs.cRCrzDqkzliSMYzS4oUq2"], ["created_at", 2016-07-10 02:50:22 UTC], ["updated_at", 2016-07-10 02:50:22 UTC]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "someone.else@email.com"], ["encrypted_password", "$2a$11$AocuSnN07IkuLYY1YsjF5ehBzZmq/Vc9l9Pox/stpUrExUVk.1l0C"], ["created_at", 2016-07-10 02:50:22 UTC], ["updated_at", 2016-07-10 02:50:22 UTC]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else2@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "someone.else2@email.com"], ["encrypted_password", "$2a$11$3w43nKK/TtR2i86m6bp3reBdVBO7aBNNnqVlmqf7IHSmoU06nZNmS"], ["created_at", 2016-07-10 02:50:22 UTC], ["updated_at", 2016-07-10 02:50:22 UTC]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "3"]]
  [1m[35m (5.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddResources (4)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else2@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (4.3ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-10 02:50:22 UTC], ["updated_at", 2016-07-10 02:50:22 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server2"], ["os", "linux/jessie"], ["created_at", 2016-07-10 02:50:22 UTC], ["updated_at", 2016-07-10 02:50:22 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server3"], ["os", "linux/wheezy"], ["created_at", 2016-07-10 02:50:22 UTC], ["updated_at", 2016-07-10 02:50:22 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "leased_at", "leased_until", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "server4"], ["os", "linux/precise"], ["leased_at", 2016-07-10 02:50:22 UTC], ["leased_until", "2016-07-10T02:53:22+00:00"], ["user_id", 3], ["created_at", 2016-07-10 02:50:22 UTC], ["updated_at", 2016-07-10 02:50:22 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "leased_at", "leased_until", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "server5"], ["os", "linux/trusty"], ["leased_at", 2016-07-10 02:50:22 UTC], ["leased_until", "2016-07-10T04:50:22+00:00"], ["user_id", 2], ["created_at", 2016-07-10 02:50:22 UTC], ["updated_at", 2016-07-10 02:50:22 UTC]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "4"]]
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (9.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-10 02:50:22 UTC], ["updated_at", 2016-07-10 02:50:22 UTC]]
  [1m[35m (5.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for 192.168.99.1 at 2016-07-10 02:52:54 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/lib/ruby/gems/2.2.0/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (5.9ms)
Completed 200 OK in 32ms (Views: 29.8ms | ActiveRecord: 0.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 02:52:58 +0000
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#index as HTML
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 6.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 02:53:07 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"leased"}
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "leased"], ["LIMIT", 1]]
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 1.6ms)


  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 2]]
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mResource Load (3.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 2]]
Started GET "/resources/lease" for 192.168.99.1 at 2016-07-10 03:22:01 +0000
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"lease"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00556d46027228>
  [1m[36mResource Load (2.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
unleasing:
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.9ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["updated_at", 2016-07-10 03:22:01 UTC], ["id", 4]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mResource Load (2.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "lease"], ["LIMIT", 1]]
Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 16.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:22:13 +0000
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00556d461537c8>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.8ms)


  
NoMethodError (undefined method `lease_expires_at' for #<Resource:0x00556d4615ac08>):
  
app/controllers/resources_controller.rb:9:in `index'
Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:22:49 +0000
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00556d4657b648>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 2.3ms)


  
NoMethodError (undefined method `lease_expires_at' for #<Resource:0x00556d462b5f08>):
  
app/controllers/resources_controller.rb:9:in `index'
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:23:05 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005592868f9170>
  [1m[36mResource Load (2.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 500 Internal Server Error in 44ms (ActiveRecord: 7.6ms)


  
NoMethodError (undefined method `to_datetime' for nil:NilClass):
  
app/models/resource.rb:29:in `lease_remaining'
app/serializers/resource_serializer.rb:5:in `lease_time_remaining'
app/controllers/resources_controller.rb:9:in `index'
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:24:41 +0000
Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:24:41 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:24:41 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#index as */*
Processing by ResourcesController#index as */*
Processing by ResourcesController#index as */*
checking lease expiration...
checking lease expiration...
currently leased servers
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f75bf8e9b0>
checking lease expiration...
#<Resource::ActiveRecord_Relation:0x0055f75bf8cb10>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
currently leased servers
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
#<Resource::ActiveRecord_Relation:0x0055f75bf37098>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 88ms (Views: 0.2ms | ActiveRecord: 3.4ms)


Completed 200 OK in 93ms (Views: 0.1ms | ActiveRecord: 4.0ms)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 102ms (Views: 0.1ms | ActiveRecord: 7.6ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:26:01 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005570ce5a8c20>
Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:26:01 +0000
  [1m[36mResource Load (3.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005570ce123b00>
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 4.1ms)


  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 114ms (Views: 0.1ms | ActiveRecord: 12.8ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:27:57 +0000
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005570ccd46df8>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (2.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 16ms (Views: 1.6ms | ActiveRecord: 3.6ms)


Started GET "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:28:03 +0000
  
ActionController::RoutingError (No route matches [GET] "/resources/server1/lease"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:37:36 +0000
  
ActionController::RoutingError (No route matches [GET] "/resources/server1/lease"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:37:41 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005570ce546868>
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mResource Load (6.3ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (5.5ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 03:37:41 UTC], ["leased_until", "2016-07-10T05:37:41+00:00"], ["updated_at", 2016-07-10 03:37:41 UTC], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 0.2ms | ActiveRecord: 19.5ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:37:44 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005570cf9d0f40>
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (Views: 0.1ms | ActiveRecord: 4.8ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/application_controller.rb:27:in `respond_409'
app/controllers/resources_controller.rb:28:in `lease'
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:38:27 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005570ce3e0ca8>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 17ms (Views: 0.3ms | ActiveRecord: 5.7ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/application_controller.rb:27:in `respond_409'
app/controllers/resources_controller.rb:28:in `lease'
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:38:53 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#lease as */*
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:38:53 +0000
  Parameters: {"name"=>"server1"}
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e4ef948ca0>
checking lease expiration...
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e4ef91b3e0>
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:38:53 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
checking lease expiration...
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
currently leased servers
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
#<Resource::ActiveRecord_Relation:0x0055e4edb89638>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 82ms (Views: 0.3ms | ActiveRecord: 10.1ms)


  [1m[36mResource Load (2.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Completed 500 Internal Server Error in 84ms (Views: 0.2ms | ActiveRecord: 6.3ms)


  
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
app/controllers/application_controller.rb:27:in `respond_409'
  
Completed 500 Internal Server Error in 46ms (Views: 0.2ms | ActiveRecord: 5.2ms)


app/controllers/resources_controller.rb:28:in `lease'
app/controllers/application_controller.rb:27:in `respond_409'
  
app/controllers/resources_controller.rb:28:in `lease'
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/application_controller.rb:27:in `respond_409'
app/controllers/resources_controller.rb:28:in `lease'
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:44:12 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c6d23eb108>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 48ms (Views: 0.4ms | ActiveRecord: 9.2ms)


Started POST "/resources/server1/unlease" for 192.168.99.1 at 2016-07-10 03:44:18 +0000
  
ActionController::RoutingError (No route matches [POST] "/resources/server1/unlease"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started DELETE "/resources/server1/unlease" for 192.168.99.1 at 2016-07-10 03:44:21 +0000
  
ActionController::RoutingError (No route matches [DELETE] "/resources/server1/unlease"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:44:27 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c6d1f20060>
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 45ms (ActiveRecord: 5.9ms)


  
ArgumentError (wrong number of arguments (1 for 0)):
  
app/models/resource.rb:17:in `unlease'
app/controllers/resources_controller.rb:54:in `unlease'
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:47:23 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ddf106b830>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  [1m[35mSQL (2.8ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["updated_at", 2016-07-10 03:47:23 UTC], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 95ms (Views: 0.4ms | ActiveRecord: 16.1ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:47:43 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ddf0cadb08>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (2.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 16ms (Views: 0.4ms | ActiveRecord: 4.6ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:51:57 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#unlease as */*
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:51:58 +0000
  Parameters: {"name"=>"server1"}
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00556173677648>
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
checking lease expiration...
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:51:58 +0000
currently leased servers
Processing by ResourcesController#unlease as */*
#<Resource::ActiveRecord_Relation:0x0055617305f760>
  Parameters: {"name"=>"server1"}
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00556172f50478>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (2.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (4.3ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 136ms (Views: 0.3ms | ActiveRecord: 6.8ms)


Completed 500 Internal Server Error in 140ms (Views: 0.2ms | ActiveRecord: 11.9ms)


Completed 500 Internal Server Error in 92ms (Views: 0.1ms | ActiveRecord: 3.6ms)


  
  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/resources_controller.rb:53:in `unlease'
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
app/controllers/resources_controller.rb:53:in `unlease'
  
app/controllers/resources_controller.rb:53:in `unlease'
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:52:58 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005561753b7258>
  [1m[36mResource Load (2.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 22ms (Views: 0.4ms | ActiveRecord: 6.7ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/resources_controller.rb:53:in `unlease'
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 03:53:12 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00556172fd4ca0>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (3.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 22ms (Views: 0.3ms | ActiveRecord: 6.7ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/resources_controller.rb:53:in `unlease'
Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:55:34 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b0698a6b90>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 92ms (Views: 0.3ms | ActiveRecord: 16.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:57:17 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"leased"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b06b868d20>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "leased"], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:58:01 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"leased"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b06b896630>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (3.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "leased"], ["LIMIT", 1]]
Completed 200 OK in 24ms (Views: 5.0ms | ActiveRecord: 4.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:58:06 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"leased"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b0695a6f30>
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "leased"], ["LIMIT", 1]]
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 2.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:58:07 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"leased"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b0676fb6d0>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "leased"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:58:07 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"leased"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b06797ec68>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "leased"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 1.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:58:16 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"leased"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b067ed84e8>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (2.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "leased"], ["LIMIT", 1]]
Completed 200 OK in 14ms (Views: 0.3ms | ActiveRecord: 3.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:58:18 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"leased"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b0685559d8>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "leased"], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 2.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:58:41 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"leased"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b06861feb8>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "leased"], ["LIMIT", 1]]
Completed 200 OK in 45ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:58:46 +0000
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055fbd40b9958>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Completed 200 OK in 39ms (Views: 8.3ms | ActiveRecord: 5.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:59:04 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055fbd418a530>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Completed 200 OK in 11ms (Views: 1.3ms | ActiveRecord: 1.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:59:10 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558eb805ab30>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Completed 200 OK in 38ms (Views: 10.5ms | ActiveRecord: 4.6ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:59:37 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00564c55be35f0>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Completed 200 OK in 41ms (Views: 13.2ms | ActiveRecord: 3.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 03:59:39 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00564c55b4b688>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Completed 200 OK in 10ms (Views: 1.5ms | ActiveRecord: 1.2ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 03:59:42 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00564c55b2ab68>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 44ms (Views: 0.3ms | ActiveRecord: 2.7ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 03:59:51 +0000
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00564c57afb0f0>
  [1m[36mResource Load (10.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 75ms (Views: 0.2ms | ActiveRecord: 18.0ms)


Started GET "/resources/server" for 192.168.99.1 at 2016-07-10 04:00:29 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00555a966f5e00>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server"], ["LIMIT", 1]]
Completed 200 OK in 47ms (Views: 0.2ms | ActiveRecord: 4.8ms)


Started GET "/resources/" for 192.168.99.1 at 2016-07-10 04:00:31 +0000
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00555a956acf58>
  [1m[36mResource Load (5.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (2.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 67ms (Views: 0.1ms | ActiveRecord: 11.2ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 04:00:34 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00555a986f3220>
  [1m[36mResource Load (1.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 2.8ms)


Started GET "/resources/abc" for 192.168.99.1 at 2016-07-10 04:00:41 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"abc"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00555a98652578>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "abc"], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/resources/abc" for 192.168.99.1 at 2016-07-10 04:01:21 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"abc"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055da0d452350>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "abc"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 39ms (ActiveRecord: 5.1ms)


  
NoMethodError (undefined method `empty?' for nil:NilClass):
  
app/controllers/resources_controller.rb:14:in `show'
Started GET "/resources/abc" for 192.168.99.1 at 2016-07-10 04:01:34 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"abc"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558e35b79300>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "abc"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 51ms (Views: 0.5ms | ActiveRecord: 5.5ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/resources_controller.rb:17:in `show'
Started GET "/resources/abc" for 192.168.99.1 at 2016-07-10 04:08:19 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"abc"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055959a30aef0>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "abc"], ["LIMIT", 1]]
Completed 404 Not Found in 37ms (Views: 0.6ms | ActiveRecord: 6.2ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 04:08:25 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055959a3f9c30>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 24ms (Views: 0.3ms | ActiveRecord: 3.1ms)


Started GET "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:08:26 +0000
  
ActionController::RoutingError (No route matches [GET] "/resources/server1/lease"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:08:32 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055959a4aa8a0>
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Completed 500 Internal Server Error in 10ms (Views: 0.3ms | ActiveRecord: 1.6ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/application_controller.rb:19:in `respond_401'
app/controllers/application_controller.rb:11:in `get_user'
app/controllers/application_controller.rb:6:in `require_auth'
app/controllers/resources_controller.rb:19:in `lease'
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:08:38 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055959a6bee20>
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (7.9ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 04:08:38 UTC], ["leased_until", "2016-07-10T06:08:38+00:00"], ["updated_at", 2016-07-10 04:08:38 UTC], ["id", 1]]
  [1m[35m (6.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 82ms (Views: 2.3ms | ActiveRecord: 25.4ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:33:25 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005642d4096e20>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 97ms (ActiveRecord: 11.0ms)


  
NameError (undefined local variable or method `resource' for #<ResourcesController:0x005642d22de400>):
  
app/controllers/resources_controller.rb:54:in `ensure_resource'
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:33:49 +0000
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c0edd8c788>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 65ms (Views: 0.4ms | ActiveRecord: 11.2ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:34:33 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c0efd71800>
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Completed 500 Internal Server Error in 10ms (Views: 0.3ms | ActiveRecord: 1.5ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/application_controller.rb:19:in `respond_401'
app/controllers/application_controller.rb:11:in `get_user'
app/controllers/application_controller.rb:6:in `require_auth'
Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:36:46 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0056076363d178>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Filter chain halted as :require_auth rendered or redirected
Completed 401 Unauthorized in 36ms (Views: 0.3ms | ActiveRecord: 4.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:36:57 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560763706eb0>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 63ms (Views: 9.4ms | ActiveRecord: 6.3ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:37:34 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560763877ba0>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 27ms (Views: 0.6ms | ActiveRecord: 5.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:37:59 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0056075f6e45d0>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 23ms (Views: 2.7ms | ActiveRecord: 4.9ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:38:03 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0056075fb1ad48>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 2.4ms)


  
NoMethodError (undefined method `is_leased_to_user?' for nil:NilClass):
  
app/controllers/resources_controller.rb:31:in `unlease'
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:38:48 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd5cc4e90>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (6.6ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["updated_at", 2016-07-10 04:38:48 UTC], ["id", 1]]
  [1m[35m (13.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 107ms (Views: 0.2ms | ActiveRecord: 29.4ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:38:51 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd3b5fb10>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 14ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:38:52 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd3ea1af8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (7.7ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 04:38:52 UTC], ["leased_until", "2016-07-10T06:38:52+00:00"], ["updated_at", 2016-07-10 04:38:52 UTC], ["id", 1]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 0.4ms | ActiveRecord: 28.1ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:38:53 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7d16950>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 16ms (Views: 0.4ms | ActiveRecord: 4.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:38:54 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7c69c50>
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 52ms (Views: 32.4ms | ActiveRecord: 5.4ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:38:55 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7c33e48>
  [1m[36mResource Load (2.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (14.5ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["updated_at", 2016-07-10 04:38:55 UTC], ["id", 1]]
  [1m[35m (10.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 60ms (Views: 0.4ms | ActiveRecord: 29.8ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:38:57 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7be8c40>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (2.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (8.5ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 04:38:57 UTC], ["leased_until", "2016-07-10T06:38:57+00:00"], ["updated_at", 2016-07-10 04:38:57 UTC], ["id", 1]]
  [1m[35m (8.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 0.1ms | ActiveRecord: 24.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:38:58 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7dc9f50>
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (4.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 54ms (Views: 2.6ms | ActiveRecord: 9.2ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:39:00 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7df0a38>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 0.6ms | ActiveRecord: 3.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:39:00 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7e10b80>
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 23ms (Views: 0.8ms | ActiveRecord: 4.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:39:01 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7e30db8>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 17ms (Views: 0.7ms | ActiveRecord: 3.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:39:01 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7e547e0>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 16ms (Views: 0.7ms | ActiveRecord: 3.3ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:39:02 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7e7c150>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 17ms (Views: 0.8ms | ActiveRecord: 5.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:39:03 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055ecd7a57700>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 1.0ms | ActiveRecord: 4.7ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (13.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (6.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources" for 192.168.99.1 at 2016-07-10 04:39:58 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f420ca0250>
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
Started GET "/resources" for 192.168.99.1 at 2016-07-10 04:39:59 +0000
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f42081aff0>
  [1m[36mResource Load (3.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 75ms (Views: 0.3ms | ActiveRecord: 6.5ms)


Completed 200 OK in 162ms (Views: 0.3ms | ActiveRecord: 23.7ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 04:40:01 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f41f42ecd0>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (2.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 15ms (Views: 1.9ms | ActiveRecord: 4.5ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:40:05 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f41f731900>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (8.4ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["updated_at", 2016-07-10 04:40:05 UTC], ["id", 1]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 35ms (Views: 0.6ms | ActiveRecord: 13.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:40:08 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f420652c90>
  [1m[36mResource Load (1.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (2.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 40ms (Views: 22.5ms | ActiveRecord: 5.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:40:12 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f4208eb308>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (5.7ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 04:40:12 UTC], ["leased_until", "2016-07-10T06:40:12+00:00"], ["updated_at", 2016-07-10 04:40:12 UTC], ["id", 1]]
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 51ms (Views: 1.1ms | ActiveRecord: 13.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:40:13 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f4209b3e20>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 22ms (Views: 3.0ms | ActiveRecord: 5.8ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:42:46 +0000
Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:42:46 +0000
Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:42:46 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ResourcesController#leased_to_user as */*
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9f2b11808>
#<Resource::ActiveRecord_Relation:0x0055f9f2b13590>
checking lease expiration...
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9f2aaa338>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 104ms (Views: 9.6ms | ActiveRecord: 9.4ms)


Completed 200 OK in 121ms (Views: 9.6ms | ActiveRecord: 3.8ms)


Completed 200 OK in 119ms (Views: 17.5ms | ActiveRecord: 5.7ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 04:42:50 +0000
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9f2409c40>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 3.5ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 04:42:51 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9f26b5520>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 2.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 04:42:54 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9f2908f48>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (4.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 20ms (Views: 4.0ms | ActiveRecord: 6.8ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:42:56 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9f29f4c40>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 15ms (Views: 0.3ms | ActiveRecord: 4.0ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 04:42:58 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9f2b51980>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.4ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["updated_at", 2016-07-10 04:42:58 UTC], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 32ms (Views: 1.5ms | ActiveRecord: 11.3ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 05:28:10 +0000
  [1m[36mActiveRecord::SchemaMigration Load (5.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f10078e208>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
unleasing:
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  [1m[33mUPDATE "resources" SET "leased_until" = ?, "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["leased_until", nil], ["user_id", nil], ["updated_at", 2016-07-10 05:28:11 UTC], ["id", 5]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 127ms (Views: 0.3ms | ActiveRecord: 17.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.3ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 05:28:28 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac1aa80d0>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 51ms (Views: 0.3ms | ActiveRecord: 10.5ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 05:28:30 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560abf76e808>
  [1m[36mResource Load (3.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (5.8ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 05:28:30 UTC], ["leased_until", "2016-07-10T07:28:30+00:00"], ["updated_at", 2016-07-10 05:28:30 UTC], ["id", 1]]
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 79ms (Views: 0.2ms | ActiveRecord: 16.6ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 05:28:32 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac13864a0>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.6ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-10 05:28:33 UTC], ["id", 1]]
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 30ms (Views: 0.3ms | ActiveRecord: 10.8ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 05:28:35 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac17a60f8>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (5.3ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 05:28:35 UTC], ["leased_until", "2016-07-10T07:28:35+00:00"], ["updated_at", 2016-07-10 05:28:35 UTC], ["id", 1]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 44ms (Views: 0.6ms | ActiveRecord: 13.6ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 05:28:36 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac1ab6b08>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 15ms (Views: 0.6ms | ActiveRecord: 4.2ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 05:28:47 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac1bebca8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 42ms (Views: 29.2ms | ActiveRecord: 4.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 05:28:51 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac2f557f8>
  [1m[36mResource Load (2.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 16ms (Views: 3.0ms | ActiveRecord: 4.9ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 05:28:54 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac2f93238>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (10.6ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-10 05:28:54 UTC], ["id", 1]]
  [1m[35m (4.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 17.8ms)


Started POST "/resources/server5/lease" for 192.168.99.1 at 2016-07-10 05:29:01 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server5"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac2f85ef8>
  [1m[36mResource Load (7.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (2.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server5"], ["LIMIT", 1]]
  [1m[36mResource Load (6.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (32.7ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 05:29:01 UTC], ["leased_until", "2016-07-10T07:29:01+00:00"], ["updated_at", 2016-07-10 05:29:01 UTC], ["id", 5]]
  [1m[35m (3.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 83ms (Views: 0.1ms | ActiveRecord: 59.8ms)


Started POST "/resources/server4/lease" for 192.168.99.1 at 2016-07-10 05:29:11 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server4"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac30164d0>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (2.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server4"], ["LIMIT", 1]]
  [1m[36mResource Load (1.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 23ms (Views: 0.3ms | ActiveRecord: 6.6ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 05:29:15 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac30413b0>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 11ms (Views: 0.3ms | ActiveRecord: 4.1ms)


Started DELETE "/resources/server5/lease" for 192.168.99.1 at 2016-07-10 05:29:19 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server5"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac3064518>
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server5"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.0ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-10 05:29:19 UTC], ["id", 5]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 10.5ms)


Started POST "/resources/server4/lease" for 192.168.99.1 at 2016-07-10 05:29:23 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server4"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00560ac30ac228>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (2.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server4"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.7ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 05:29:23 UTC], ["leased_until", "2016-07-10T07:29:23+00:00"], ["updated_at", 2016-07-10 05:29:23 UTC], ["id", 4]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 41ms (Views: 1.0ms | ActiveRecord: 13.4ms)


  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (1)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "1"]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateResources (2)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "os" varchar, "leased_at" datetime, "leased_until" varchar, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_resources_on_user_id" ON "resources" ("user_id")[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "2"]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddUser (3)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (3.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "you@email.com"], ["encrypted_password", "$2a$11$xx1fjio05ez1PpqKhq6UReJMn5GOZGKfJPOM.k4SYLPEHmOu8KGvW"], ["created_at", 2016-07-10 05:29:59 UTC], ["updated_at", 2016-07-10 05:29:59 UTC]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "someone.else@email.com"], ["encrypted_password", "$2a$11$.KW3PnbNWCBP5RPX1AsPauDDa0M1/Tc/xcx2sICr5hy0JAUH8UChG"], ["created_at", 2016-07-10 05:29:59 UTC], ["updated_at", 2016-07-10 05:29:59 UTC]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else2@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "someone.else2@email.com"], ["encrypted_password", "$2a$11$OPSL7RbKCtu4eOCUVtd.YuRb63i1mIZhsl1QGafXK3laleaFW1ygu"], ["created_at", 2016-07-10 05:29:59 UTC], ["updated_at", 2016-07-10 05:29:59 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "3"]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddResources (4)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else2@email.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "someone.else@email.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.9ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server1"], ["os", "linux/alpine"], ["created_at", 2016-07-10 05:29:59 UTC], ["updated_at", 2016-07-10 05:29:59 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server2"], ["os", "linux/jessie"], ["created_at", 2016-07-10 05:29:59 UTC], ["updated_at", 2016-07-10 05:29:59 UTC]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "server3"], ["os", "linux/wheezy"], ["created_at", 2016-07-10 05:29:59 UTC], ["updated_at", 2016-07-10 05:29:59 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "leased_at", "leased_until", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "server4"], ["os", "linux/precise"], ["leased_at", 2016-07-10 05:29:59 UTC], ["leased_until", "2016-07-10T05:32:59+00:00"], ["user_id", 3], ["created_at", 2016-07-10 05:29:59 UTC], ["updated_at", 2016-07-10 05:29:59 UTC]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "resources" ("name", "os", "leased_at", "leased_until", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "server5"], ["os", "linux/trusty"], ["leased_at", 2016-07-10 05:29:59 UTC], ["leased_until", "2016-07-10T07:29:59+00:00"], ["user_id", 2], ["created_at", 2016-07-10 05:29:59 UTC], ["updated_at", 2016-07-10 05:29:59 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "4"]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2016-07-10 05:29:59 UTC], ["updated_at", 2016-07-10 05:29:59 UTC]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started POST "/resources/server4/lease" for 192.168.99.1 at 2016-07-10 05:30:15 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server4"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558545f1ac78>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server4"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 57ms (Views: 0.5ms | ActiveRecord: 11.1ms)


Started POST "/resources/server4/lease" for 192.168.99.1 at 2016-07-10 05:30:18 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server4"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558543914358>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server4"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 23ms (Views: 0.2ms | ActiveRecord: 5.0ms)


Started POST "/resources/server4/lease" for 192.168.99.1 at 2016-07-10 05:30:19 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server4"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585440b4158>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server4"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 14ms (Views: 2.0ms | ActiveRecord: 3.6ms)


Started POST "/resources/server4/lease" for 192.168.99.1 at 2016-07-10 05:30:20 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server4"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585447c5d70>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server4"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 14ms (Views: 0.2ms | ActiveRecord: 3.5ms)


Started POST "/resources/server4/lease" for 192.168.99.1 at 2016-07-10 05:30:20 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server4"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558544a8fe98>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (3.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server4"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 18ms (Views: 0.2ms | ActiveRecord: 5.9ms)


Started POST "/resources/server4/lease" for 192.168.99.1 at 2016-07-10 05:30:21 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server4"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585457c0248>
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server4"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 21ms (Views: 0.2ms | ActiveRecord: 6.5ms)


Started POST "/resources/server5/lease" for 192.168.99.1 at 2016-07-10 05:30:23 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server5"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854588e0a8>
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server5"], ["LIMIT", 1]]
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 23ms (Views: 0.5ms | ActiveRecord: 6.9ms)


Started POST "/resources/server5/lease" for 192.168.99.1 at 2016-07-10 05:30:24 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server5"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558545a59928>
  [1m[36mResource Load (2.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server5"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 18ms (Views: 1.7ms | ActiveRecord: 7.0ms)


Started POST "/resources/server5/lease" for 192.168.99.1 at 2016-07-10 05:30:25 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server5"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558545c6ac58>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server5"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 14ms (Views: 1.8ms | ActiveRecord: 3.7ms)


Started POST "/resources/server5/lease" for 192.168.99.1 at 2016-07-10 05:30:25 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server5"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558545dd5610>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server5"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 15ms (Views: 0.7ms | ActiveRecord: 4.9ms)


Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 07:30:43 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 07:30:54 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 07:33:17 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 07:33:49 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 07:35:00 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 07:39:20 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 11:29:11 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:03:48 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:04:15 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:04:48 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:05:53 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:06:05 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:20:36 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:23:19 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 12:23:31 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558548461860>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
unleasing:
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  [1m[33mUPDATE "resources" SET "leased_until" = ?, "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["leased_until", nil], ["user_id", nil], ["updated_at", 2016-07-10 12:23:31 UTC], ["id", 4]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
unleasing:
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (2.4ms)[0m  [1m[33mUPDATE "resources" SET "leased_until" = ?, "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["leased_until", nil], ["user_id", nil], ["updated_at", 2016-07-10 12:23:31 UTC], ["id", 5]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 43ms (Views: 9.2ms | ActiveRecord: 12.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 12:23:38 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558543d99040>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 1.9ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:23:42 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558543b99d08>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 1.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:24:50 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854848d938>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:25:27 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854844b100>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:29:29 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558548325a00>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:30:46 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854820e7e8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.1ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:37:13 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558548087410>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:37:19 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547f8f0f8>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.2ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:37:25 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547e66dc0>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.9ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:38:44 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547cf7d18>
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 12:38:58 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547bbb0a8>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 2.1ms)


Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:39:02 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:39:49 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 12:39:53 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854753dff0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 2.2ms)


Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:41:02 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resource/server1" for 192.168.99.1 at 2016-07-10 12:41:25 +0000
  
ActionController::RoutingError (No route matches [POST] "/resource/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resources/server1" for 192.168.99.1 at 2016-07-10 12:41:54 +0000
  
ActionController::RoutingError (No route matches [POST] "/resources/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resources/server1" for 192.168.99.1 at 2016-07-10 12:42:06 +0000
  
ActionController::RoutingError (No route matches [POST] "/resources/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resources/server1" for 192.168.99.1 at 2016-07-10 12:42:17 +0000
  
ActionController::RoutingError (No route matches [POST] "/resources/server1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:42:51 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854570f1c8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 12:42:51 UTC], ["leased_until", "2016-07-10T14:42:51+00:00"], ["updated_at", 2016-07-10 12:42:51 UTC], ["id", 1]]
  [1m[35m (3.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 11.8ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:42:54 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854474fb48>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 9ms (Views: 0.2ms | ActiveRecord: 3.4ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:44:11 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854413df48>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-10 12:44:11 UTC], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 8.1ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:44:18 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547467658>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 5ms (Views: 0.1ms | ActiveRecord: 2.2ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:45:48 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585474bcd88>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 6ms (Views: 0.1ms | ActiveRecord: 2.4ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:47:33 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547525d88>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 5ms (Views: 0.1ms | ActiveRecord: 1.4ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:50:31 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547593f68>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 8ms (Views: 0.2ms | ActiveRecord: 3.1ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:51:34 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585475da760>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 5ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:51:54 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547632d48>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 4ms (Views: 0.2ms | ActiveRecord: 1.7ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:52:11 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854767f3c8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 5ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:52:39 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585476bb418>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 5ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:53:14 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585476f3070>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 6ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:53:28 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585477276b8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 5ms (Views: 0.2ms | ActiveRecord: 2.1ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:53:49 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854775bb20>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 8ms (Views: 0.2ms | ActiveRecord: 3.1ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:54:16 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854779fcd0>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 7ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 12:55:46 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585477d9598>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 5ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:56:12 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547811a60>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.2ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:56:41 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854786fe30>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:57:00 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585478b69c0>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.9ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:57:38 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547910b28>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.4ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 12:59:34 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547987868>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 13:00:21 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585479e90e0>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 13:00:34 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547a40138>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 13:00:58 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547aba820>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 13:01:15 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547b255d0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.1ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:07:32 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547bd9968>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.3ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:07:58 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547c24f30>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.4ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:08:25 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547c804e8>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (2.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 3.5ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:08:52 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547ce3958>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.6ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:09:36 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547d3e308>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:09:37 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547d8e808>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.1ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:09:38 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547ddedf8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.5ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:09:38 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547e3b378>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.5ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:10:09 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547e86670>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:10:21 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547ed6490>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.9ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:11:32 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547f3fd00>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:11:37 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547f7ff90>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.7ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:11:55 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00558547fbba18>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 1.5ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:13:40 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854800be78>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.1ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:13:49 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854805feb0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 1.2ms)


Started GET "/resources/server1" for 172.17.0.5 at 2016-07-10 13:16:11 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055854809eb88>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.4ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:16:58 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585480dd3d8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.3ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:18:22 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005585481224d8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.5ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (1.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:20:02 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005576c4990008>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 5.2ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 13:20:08 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005576c097d380>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 13:20:10 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005576c0d535e0>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 45ms (Views: 7.9ms | ActiveRecord: 9.1ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 13:20:12 +0000
Processing by ResourcesController#index as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005576c4866858>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.8ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 13:20:14 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005576c4797288>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.1ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 13:20:14 UTC], ["leased_until", "2016-07-10T15:20:14+00:00"], ["updated_at", 2016-07-10 13:20:14 UTC], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 9.6ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 13:22:48 +0000
Processing by ResourcesController#unlease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x005576c44d6788>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (12.4ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-10 13:22:48 UTC], ["id", 1]]
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 22.6ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 13:23:28 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9d56872a0>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (2.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 64ms (Views: 11.2ms | ActiveRecord: 10.1ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 13:23:30 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9d3fdbec0>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 13:26:12 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9d38b18e8>
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 3.4ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 13:26:13 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055f9d3fe3a30>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.5ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 13:26:40 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055b3dcac7480>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 64ms (Views: 0.2ms | ActiveRecord: 5.8ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.4ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 13:27:25 +0000
Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 13:27:25 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9786e398>
checking lease expiration...
Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 13:27:25 +0000
currently leased servers
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
#<Resource::ActiveRecord_Relation:0x00562d955ec6f8>
Processing by ResourcesController#show as */*
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d955d8ce8>
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (2.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (2.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 51ms (Views: 0.3ms | ActiveRecord: 6.6ms)


Completed 200 OK in 93ms (Views: 0.2ms | ActiveRecord: 3.3ms)


Completed 200 OK in 98ms (Views: 0.1ms | ActiveRecord: 6.0ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:27:32 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d93f176f8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:29:09 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d94073fb0>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.8ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:29:45 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9791ce70>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.4ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:30:05 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9789c4a0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 1.1ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:30:12 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97807bc0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.6ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:30:38 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97785008>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:30:42 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d976df928>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.6ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:30:59 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9762d070>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 1.6ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:31:16 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9759b670>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:31:20 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9751a7a0>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.7ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:31:33 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9748d2b0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.5ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:31:41 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9741d078>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.2ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:32:24 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97393a30>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.1ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:32:58 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9731cfe8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.7ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:46:53 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d971937d0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.3ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:47:10 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9710ac78>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 1.2ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:47:20 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97065368>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:47:36 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d96fc3c70>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.6ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:47:40 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d96f23a90>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 1.0ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:48:29 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d96eb1f08>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 2.0ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:48:55 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d96e59920>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 1.3ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 13:49:16 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d95f39558>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (2.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (5.1ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 13:49:16 UTC], ["leased_until", "2016-07-10T15:49:16+00:00"], ["updated_at", 2016-07-10 13:49:16 UTC], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (3.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 62ms (Views: 0.2ms | ActiveRecord: 19.6ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 13:49:18 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d94800a30>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.4ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 19:48:41 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d93fc6d88>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
unleasing:
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.2ms)[0m  [1m[33mUPDATE "resources" SET "leased_until" = ?, "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["leased_until", nil], ["user_id", nil], ["updated_at", 2016-07-10 19:48:41 UTC], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (11.5ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 19:48:41 UTC], ["leased_until", "2016-07-10T21:48:41+00:00"], ["updated_at", 2016-07-10 19:48:41 UTC], ["id", 1]]
  [1m[35m (4.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 59ms (Views: 0.2ms | ActiveRecord: 28.6ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 19:48:43 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d94614190>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 11ms (Views: 0.3ms | ActiveRecord: 3.5ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 19:48:48 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9486c938>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (7.1ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-10 19:48:48 UTC], ["id", 1]]
  [1m[35m (3.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 53ms (Views: 0.2ms | ActiveRecord: 12.6ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 19:54:11 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d957044c8>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.4ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 20:12:20 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d95c35ff0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.4ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 20:12:26 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d95c9dc18>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 20:12:26 UTC], ["leased_until", "2016-07-10T22:12:26+00:00"], ["updated_at", 2016-07-10 20:12:26 UTC], ["id", 1]]
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 10.6ms)


Started GET "/resources/server1" for 172.17.0.8 at 2016-07-10 20:12:27 +0000
Processing by ResourcesController#show as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d95f6cd18>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.5ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 20:12:38 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d96ed7eb0>
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 4.1ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 20:14:59 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d96f6d8c0>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.2ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 20:15:24 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d970bff48>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.8ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 20:15:37 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97184d70>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 20:16:04 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9722fdd8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.6ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 20:16:19 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d972f78b0>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 3.2ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 20:20:13 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d973d91e8>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 3.4ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-10 21:36:10 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97cf7798>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.2ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 21:36:36 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97d3b600>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 7ms (Views: 0.2ms | ActiveRecord: 3.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:37:34 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97d7a6e8>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 10.9ms | ActiveRecord: 2.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:38:53 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97de7cc0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 1.6ms | ActiveRecord: 3.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:49:20 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97e7d6f8>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.9ms | ActiveRecord: 3.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:52:48 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97e482c8>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 4.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:54:48 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97d78af0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.9ms | ActiveRecord: 2.2ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:55:01 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d97ce49b8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.6ms | ActiveRecord: 3.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:56:32 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d978c1868>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 2.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:58:47 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d977dabc0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.6ms | ActiveRecord: 2.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:59:26 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d976dfc48>
  [1m[36mResource Load (4.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (4.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (8.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 31ms (Views: 0.7ms | ActiveRecord: 23.9ms)


Started GET "/resources/server1" for 192.168.99.1 at 2016-07-10 21:59:30 +0000
Processing by ResourcesController#show as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d975fd348>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 3.6ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 21:59:32 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d975587d0>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 3.6ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:00:06 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00562d9747e580>
  [1m[36mResource Load (2.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (5.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 23ms (Views: 1.2ms | ActiveRecord: 10.3ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (1.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:00:52 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ac376c0>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 12.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:01:02 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c448885128>
  [1m[36mResource Load (2.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 5.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:01:53 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c4493759e8>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 4.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:03:09 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c4495d1f48>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 2.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:03:40 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a376770>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 4.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:03:45 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a5132b8>
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 5.6ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:04:28 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a676f60>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 4.3ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:06:59 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a904958>
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 4.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:09:00 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ab03150>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 3.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:09:39 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ac29480>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 5.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:17:45 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c076ff0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
unleasing:
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (5.8ms)[0m  [1m[33mUPDATE "resources" SET "leased_until" = ?, "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["leased_until", nil], ["user_id", nil], ["updated_at", 2016-07-10 22:17:45 UTC], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 10.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:18:11 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c0e06f8>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:18:27 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c1141d8>
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 3.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:19:02 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c156e48>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:19:44 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c191930>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:19:53 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c1b3a80>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 4.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:19:56 +0000
Processing by ResourcesController#leased_to_user as */*
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c1d5ea0>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (2.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 4.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-10 22:19:59 +0000
Processing by ResourcesController#lease as */*
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c157eb0>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (5.7ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-10 22:19:59 UTC], ["leased_until", "2016-07-11T00:19:59+00:00"], ["updated_at", 2016-07-10 22:19:59 UTC], ["id", 1]]
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 56ms (Views: 1.2ms | ActiveRecord: 19.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:20:09 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c26e858>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 3.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:21:17 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c28e040>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:21:30 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c094500>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.2ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-10 22:21:41 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c0771f8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 3.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 00:38:06 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c322b78>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
unleasing:
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  [1m[33mUPDATE "resources" SET "leased_until" = ?, "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["leased_until", nil], ["user_id", nil], ["updated_at", 2016-07-11 00:38:06 UTC], ["id", 1]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 9.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 00:57:49 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44acdf5c8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.2ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 00:58:09 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c410800>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 00:58:31 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c440b18>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.3ms | ActiveRecord: 2.6ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 00:58:52 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ac5f0d0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 1.9ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 00:59:11 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ac36608>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 00:59:11 UTC], ["leased_until", "2016-07-11T02:59:11+00:00"], ["updated_at", 2016-07-11 00:59:11 UTC], ["id", 1]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 10.3ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 00:59:15 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44abaefa0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 00:59:26 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c515020>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:00:59 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c549000>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 3.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:02:57 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ab13230>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 3.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:04:41 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44aae9840>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 3.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:09:19 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c601560>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 4.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:09:55 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44aa63f88>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 3.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:10:22 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c665d08>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:11:47 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c698bb8>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 4.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:14:45 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a9bf280>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.6ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:15:23 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a99d6d0>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:15:31 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c73c6c8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:15:40 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c76f0c8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 4.2ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 01:15:45 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a9045c0>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:18:17 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c893670>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.3ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:18:37 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c8c99f0>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 3.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:22:42 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a78b298>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 3.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:23:13 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c93c158>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:23:46 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c978360>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 3.6ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:24:13 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c9ac318>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:27:19 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c9fb9e0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 4.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:28:25 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ca32698>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:30:43 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ca7bcf8>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 3.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:31:05 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a512b38>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:32:10 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cad4600>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:35:36 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cb0c2f8>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 3.3ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:36:50 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a44e0a8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:37:11 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cb717c0>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:37:50 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cba6808>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.2ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:38:11 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cbd9fc8>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 3.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:54:33 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a2f7d08>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 3.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:55:50 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cca0c40>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.9ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:56:45 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cce2438>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 02:57:21 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c4496f20d0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 03:02:09 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cd70bc0>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
unleasing:
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  [1m[33mUPDATE "resources" SET "leased_until" = ?, "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["leased_until", nil], ["user_id", nil], ["updated_at", 2016-07-11 03:02:09 UTC], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 8.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:02:16 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cdc4310>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 03:02:16 UTC], ["leased_until", "2016-07-11T05:02:16+00:00"], ["updated_at", 2016-07-11 03:02:16 UTC], ["id", 1]]
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 10.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 03:02:19 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ce31820>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 3.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 03:03:05 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44ce763d0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 2.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 03:05:24 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cec3ec8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.7ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-11 03:13:10 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cf2f768>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 03:19:55 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cf96f08>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 3.8ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-11 03:20:02 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44cfc9250>
  [1m[36mResource Load (1.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 3.6ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:20:08 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44d017a40>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 8ms (Views: 0.2ms | ActiveRecord: 3.4ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:20:31 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44d04bac0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 03:20:31 UTC], ["id", 1]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 7.9ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:20:37 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44d09dfa0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 5ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:23:12 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44d0d4af0>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 6ms (Views: 0.1ms | ActiveRecord: 2.8ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:23:17 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c4492b3dc0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.8ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 03:23:17 UTC], ["leased_until", "2016-07-11T05:23:17+00:00"], ["updated_at", 2016-07-11 03:23:17 UTC], ["id", 1]]
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 9.9ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:28:20 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44d0eeab8>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 10ms (Views: 0.2ms | ActiveRecord: 4.2ms)


Started POST "/resources//lease" for 192.168.99.1 at 2016-07-11 03:28:58 +0000
  
ActionController::RoutingError (No route matches [POST] "/resources/lease"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resources//lease" for 192.168.99.1 at 2016-07-11 03:29:32 +0000
  
ActionController::RoutingError (No route matches [POST] "/resources/lease"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.4.0) lib/puma/configuration.rb:224:in `call'
puma (3.4.0) lib/puma/server.rb:569:in `handle_request'
puma (3.4.0) lib/puma/server.rb:406:in `process_client'
puma (3.4.0) lib/puma/server.rb:271:in `block in run'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `call'
puma (3.4.0) lib/puma/thread_pool.rb:114:in `block in spawn_thread'
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:44:44 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c963f78>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 10ms (Views: 0.3ms | ActiveRecord: 3.4ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:54:15 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c74f458>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 12ms (Views: 0.2ms | ActiveRecord: 4.6ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:56:02 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c650d90>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 7ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:56:07 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c556728>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 9ms (Views: 0.1ms | ActiveRecord: 3.8ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:57:04 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c471f60>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 7ms (Views: 0.3ms | ActiveRecord: 2.5ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:57:27 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c34ed40>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 7ms (Views: 0.2ms | ActiveRecord: 2.9ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 03:59:50 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c242f78>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 10ms (Views: 0.2ms | ActiveRecord: 3.4ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 04:00:16 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c1f6ec0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 7ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 04:00:51 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c191bb0>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 8ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 04:01:05 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c148aa0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 8ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 04:02:31 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44c0eab30>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 6ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:32:51 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055c44a6c9d78>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
unleasing:
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  [1m[33mUPDATE "resources" SET "leased_until" = ?, "user_id" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["leased_until", nil], ["user_id", nil], ["updated_at", 2016-07-11 05:32:51 UTC], ["id", 1]]
  [1m[35m (4.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (2.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (2.4ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 05:32:51 UTC], ["leased_until", "2016-07-11T07:32:51+00:00"], ["updated_at", 2016-07-11 05:32:51 UTC], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 19.4ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:45:15 +0000
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00563eb9912f78>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (2.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 68ms (Views: 0.4ms | ActiveRecord: 12.2ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:46:07 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00563eb974b640>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 9ms (Views: 0.3ms | ActiveRecord: 3.9ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:46:13 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x00563eb96bb810>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 11ms (Views: 0.2ms | ActiveRecord: 4.7ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_resources_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_resources_on_user_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.6ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:49:37 +0000
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:3)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:4)
DEPRECATION WARNING: before_filter is deprecated and will be removed in Rails 5.1. Use before_action instead. (called from <class:ResourcesController> at /src/app/controllers/resources_controller.rb:5)
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f9bd3548>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 77ms (Views: 0.4ms | ActiveRecord: 13.2ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:49:45 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f7a411a0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (7.0ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 05:49:45 UTC], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 51ms (Views: 0.4ms | ActiveRecord: 11.0ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:50:56 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f870f008>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 9ms (Views: 1.5ms | ActiveRecord: 2.5ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:51:13 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f940e8a8>
  [1m[36mResource Load (3.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (10.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (3.2ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (11.6ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 05:51:13 UTC], ["leased_until", "2016-07-11T07:51:13+00:00"], ["updated_at", 2016-07-11 05:51:13 UTC], ["id", 1]]
  [1m[35m (4.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 115ms (Views: 0.4ms | ActiveRecord: 39.2ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:52:10 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f9a9a4d8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (6.1ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 05:52:10 UTC], ["id", 1]]
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 10.5ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:52:41 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f9ce8d98>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
Completed 409 Conflict in 6ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:52:48 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f99f11f8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.8ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 05:52:48 UTC], ["leased_until", "2016-07-11T07:52:48+00:00"], ["updated_at", 2016-07-11 05:52:48 UTC], ["id", 1]]
  [1m[35m (4.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 14.0ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:53:10 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb0d9708>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 05:53:10 UTC], ["id", 1]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 8.3ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:53:18 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb14a7c8>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 05:53:18 UTC], ["leased_until", "2016-07-11T07:53:18+00:00"], ["updated_at", 2016-07-11 05:53:18 UTC], ["id", 1]]
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 10.7ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 05:53:38 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb1a3e90>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 05:53:38 UTC], ["id", 1]]
  [1m[35m (3.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 10.4ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:06:59 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb247ab8>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (5.6ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 06:06:59 UTC], ["leased_until", "2016-07-11T08:06:59+00:00"], ["updated_at", 2016-07-11 06:06:59 UTC], ["id", 1]]
  [1m[35m (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 13.4ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:07:03 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb299b38>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 10ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:25:15 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f9bd25a8>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 8ms (Views: 0.5ms | ActiveRecord: 3.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 06:25:20 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb37bda8>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:25:49 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb3a4140>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.6ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 06:25:49 UTC], ["id", 1]]
  [1m[35m (3.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 20ms (Views: 0.2ms | ActiveRecord: 11.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 06:25:52 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb3f54f0>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 06:27:16 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb42b708>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.2ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:27:28 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb455f80>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (11.0ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 06:27:28 UTC], ["leased_until", "2016-07-11T08:27:28+00:00"], ["updated_at", 2016-07-11 06:27:28 UTC], ["id", 1]]
  [1m[35m (12.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 45ms (Views: 0.7ms | ActiveRecord: 28.7ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 06:27:31 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb4af828>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 2.4ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-11 06:32:13 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb50a930>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-11 06:34:42 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb54d4d8>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 2.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-11 06:36:54 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb580b80>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 2.3ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-11 06:43:18 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb5ddd58>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 1.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 06:43:26 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f9907878>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 2.6ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:44:44 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb6518e8>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 06:44:44 UTC], ["id", 1]]
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 8.0ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:44:51 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f9862be8>
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.1ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 06:44:51 UTC], ["leased_until", "2016-07-11T08:44:51+00:00"], ["updated_at", 2016-07-11 06:44:51 UTC], ["id", 1]]
  [1m[35m (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 23ms (Views: 0.3ms | ActiveRecord: 11.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:45:38 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f97e9bd0>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 14ms (Views: 0.3ms | ActiveRecord: 4.7ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:45:45 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb742130>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 06:45:45 UTC], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 7.4ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:45:53 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb796500>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.9ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 06:45:53 UTC], ["leased_until", "2016-07-11T08:45:53+00:00"], ["updated_at", 2016-07-11 06:45:53 UTC], ["id", 1]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 10.9ms)


Started POST "/resources/server2/lease" for 192.168.99.1 at 2016-07-11 06:45:56 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server2"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f9603348>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server2"], ["LIMIT", 1]]
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 9ms (Views: 0.2ms | ActiveRecord: 3.1ms)


Started DELETE "/resources/server2/lease" for 192.168.99.1 at 2016-07-11 06:46:04 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server2"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb822ac8>
  [1m[36mResource Load (0.5ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server2"], ["LIMIT", 1]]
Completed 409 Conflict in 5ms (Views: 0.3ms | ActiveRecord: 1.8ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 06:46:08 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb84b018>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.2ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 06:46:08 UTC], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 17ms (Views: 0.3ms | ActiveRecord: 8.0ms)


Started GET "/resources" for 192.168.99.1 at 2016-07-11 07:01:10 +0000
Processing by ResourcesController#index as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb8fdc90>
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources"[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 07:01:14 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb931a40>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 2.9ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 07:01:20 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb95b200>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (7.8ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 07:01:20 UTC], ["leased_until", "2016-07-11T09:01:20+00:00"], ["updated_at", 2016-07-11 07:01:20 UTC], ["id", 1]]
  [1m[35m (11.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 50ms (Views: 0.5ms | ActiveRecord: 24.8ms)


Started POST "/resources/server/lease" for 192.168.99.1 at 2016-07-11 07:01:23 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3f93dc2e0>
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.4ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server"], ["LIMIT", 1]]
Filter chain halted as :ensure_resource rendered or redirected
Completed 404 Not Found in 15ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 07:01:39 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fb9d8cf0>
  [1m[36mResource Load (0.6ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (7.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
Completed 409 Conflict in 17ms (Views: 0.6ms | ActiveRecord: 10.4ms)


Started DELETE "/resources/server2/lease" for 192.168.99.1 at 2016-07-11 07:01:49 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server2"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fba12c48>
  [1m[36mResource Load (1.0ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server2"], ["LIMIT", 1]]
Completed 409 Conflict in 18ms (Views: 0.3ms | ActiveRecord: 5.2ms)


Started DELETE "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 07:01:53 +0000
Processing by ResourcesController#unlease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fba3baf8>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.7ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (12.2ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", nil], ["leased_until", nil], ["updated_at", 2016-07-11 07:01:53 UTC], ["id", 1]]
  [1m[35m (7.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 21.9ms)


Started POST "/resources/server1/lease" for 192.168.99.1 at 2016-07-11 07:20:08 +0000
Processing by ResourcesController#lease as HTML
  Parameters: {"name"=>"server1"}
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fbb11018>
  [1m[36mResource Load (1.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT  "resources".* FROM "resources" WHERE "resources"."name" = ? LIMIT ?[0m  [["name", "server1"], ["LIMIT", 1]]
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (6.3ms)[0m  [1m[33mUPDATE "resources" SET "user_id" = ?, "leased_at" = ?, "leased_until" = ?, "updated_at" = ? WHERE "resources"."id" = ?[0m  [["user_id", 1], ["leased_at", 2016-07-11 07:20:08 UTC], ["leased_until", "2016-07-11T09:20:08+00:00"], ["updated_at", 2016-07-11 07:20:08 UTC], ["id", 1]]
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 18.1ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 07:20:12 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fbb76fa8>
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (4.4ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 0.8ms | ActiveRecord: 13.0ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 07:20:15 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fbba60c8>
  [1m[36mResource Load (0.8ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 3.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 07:20:16 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fbbd9d10>
  [1m[36mResource Load (2.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (7.1ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 25ms (Views: 0.4ms | ActiveRecord: 13.5ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 07:20:16 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fbc08a48>
  [1m[36mResource Load (1.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (8.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 12.4ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 07:20:17 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fbc4eca0>
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (0.9ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 3.8ms)


Started GET "/resources/leased" for 192.168.99.1 at 2016-07-11 07:20:17 +0000
Processing by ResourcesController#leased_to_user as HTML
checking lease expiration...
currently leased servers
#<Resource::ActiveRecord_Relation:0x0055e3fbc7c100>
  [1m[36mResource Load (2.3ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE (user_id IS NOT NULL)[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "you@email.com"], ["LIMIT", 1]]
  [1m[36mResource Load (1.2ms)[0m  [1m[34mSELECT "resources".* FROM "resources" WHERE "resources"."user_id" = ?[0m  [["user_id", 1]]
  [1m[36mUser Load (3.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 28ms (Views: 2.4ms | ActiveRecord: 8.5ms)


